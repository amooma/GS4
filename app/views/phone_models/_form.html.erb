<%= simple_form_for([ @phone_model.manufacturer, @phone_model ]) do |f| %>
	<%= f.error_messages %>
	
	<%= f.input :name %>
	<%= f.input :url, :as => :url, :input_html => { :size => 60 } %>
	
	<% if params[:manufacturer_id].nil? %><%#OPTIMIZE Set @phone_model.manufacturer_id in the controller and use @phone_model.manufacturer_id here. %>
		<%= f.input :manufacturer do %>
			<%= f.select( :manufacturer_id,
				@manufacturers.collect {|r| [ r.name, r.id ] },
				{ :include_blank => false, :selected => @phone_model.manufacturer_id }
			) %>
		<% end %>
	<% else %>
		<%= f.input :manufacturer_id, :as => :hidden, :input_html => { :value => params[:manufacturer_id] } %>
	<% end %>
	
	<%= f.input :default_http_user %>
	<%= f.input :default_http_password %>
	<%= f.input :max_number_of_sip_accounts %>
	<%= f.input :number_of_keys %>
	<%= f.input :ssl %>
	<%= f.input :http_port %>
	<%= f.input :reboot_request_path %>
	<%= f.input :http_request_timeout %>
	<%= f.input :random_password_length      , :as => :string %>
	<%= f.input :random_password_consists_of , :as => :string, :input_html => { :size => 60 } %>
	
	<%= f.button :submit %>
<% end %>

#!/usr/bin/make -f
# -*- makefile -*-
# Sample debian/rules that uses debhelper.
#
# This file was originally written by Joey Hess and Craig Small.
# As a special exception, when this file is copied by dh-make into a
# dh-make output file, you may use that output file without restriction.
# This special exception was added by Craig Small in version 0.37 of dh-make.
#
# Modified to make a template file for a multi-binary package with separated
# build-arch and build-indep targets  by Bill Allombert 2001

# Uncomment this to turn on verbose mode.
#export DH_VERBOSE=1

# This has to be exported to make some magic below work.
export DH_OPTIONS



DEB_VERSION:=$(shell dpkg-parsechangelog | sed -n -e 's/Version: //p')
#DEB_NOEPOCH_VERSION:=$(shell echo $(DEB_VERSION) | cut -d':' -f 2)
#DEB_SRC_VERSION:=$(shell echo $(DEB_NOEPOCH_VERSION) | sed -e 's/-[^-]\+$$//')


print-version:
	@@echo "Debian version:    $(DEB_VERSION)"
	@@echo "Debian version:    $(DEB_NOEPOCH_VERSION)"
	@@echo "Debian version:    $(DEB_SRC_VERSION)"


#build: build-arch build-indep
# 
# build-arch: build-arch-stamp
# build-arch-stamp:
# 	dh_testdir
# 	touch $@
# 
# build-indep: build-indep-stamp
# build-indep-stamp:
# 	dh_testdir
# 	touch $@
# 
# clean:
# 	dh_testdir
# 	dh_testroot
# 	dh_clean
# 
# install: install-arch install-indep
# 
# install-arch: build-arch
# 	dh_testdir
# 	dh_testroot
# 	dh_clean -k -s
# 	dh_installdirs -s
# 	
# 	dh_install -s --sourcedir=debian/tmp
# 	dh_lintian -s
# 	
# 	touch $@
# 
# install-indep: build-indep
# 	dh_testdir
# 	dh_testroot
# 	dh_clean -k -i
# 	dh_installdirs -i
# 	
# 	dh_install -i --sourcedir=debian/tmp
# 	dh_lintian -i
# 	
# 	touch $@
# 
# binary: binary-indep binary-arch
# 
# binary-indep: install-indep
# 	dh_testdir -i
# 	dh_testroot -i
# 	dh_installlogrotate -i 
# 	dh_installdocs -i
# 	dh_installexamples -i
# 	dh_installcron -i
# 	#dh_installchangelogs ChangeLog -i
# 	dh_link -i 
# 	dh_compress -i
# 	dh_fixperms -i
# 	dh_installdeb -i
# 	dh_gencontrol -i
# 	dh_md5sums -i
# 	dh_builddeb -i
# 
# binary-arch: install-arch
# 	dh_testdir -a
# 	dh_testroot -a
# 	dh_installlogrotate -a
# 	dh_installdocs -a
# 	#dh_installman utils/*.1 doc/*.8 contrib/scripts/*.8
# 	dh_installexamples -a
# 	#dh_installchangelogs ChangeLog -a
# 	#dh_installinit -a -- defaults 21
# 	#dh_strip -a --dbg-package=foobar-dbg
# 	dh_link -a
# 	dh_compress -a
# 	dh_fixperms -a
# 	dh_installdeb -a
# 	dh_shlibdeps -a
# 	dh_gencontrol -a
# 	dh_md5sums -a
# 	dh_builddeb -a
# 
# 
# .PHONY: build build-arch build-indep clean binary-indep binary-arch binary install clean print-version



%:
	dh $@ 

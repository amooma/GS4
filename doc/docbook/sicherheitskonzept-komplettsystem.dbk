<?xml version="1.0" encoding="UTF-8"?>
<section version="5.0" xml:id="sicherheitskonzept-komplettsystem"
         xml:lang="de" xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns:m="http://www.w3.org/1998/Math/MathML"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:db="http://docbook.org/ns/docbook">
  <title>Komplettsystem</title>

  <para>Die Sicherheit des Komplettssystems ist von der Sicherheit aller
  Komponenten im Zusammenspiel abhängig. Eine einzelne Absicherung alleine
  garantiert noch keine Sicherheit des gesamten Systems.</para>

  <para>Um ein Beispiel zu geben: Es ist zwar gut wenn bei API-Zugriffen eine
  Authentifizierung und Authorisierung stattfindet, würde allerdings umgangen
  wenn das System als Beispiel gleichzeitig einen offenen SSH-Dienst für den
  root-Benutzer mit einem zu einfachen Paßwort wie „123“ hätte.</para>

  <para>Die Kombination aller Faktoren ist also entscheidend, denn potenziell
  untergräbt das schwächste Glied in der Kette eben auch andere
  Schutzmechanismen.</para>

  <para>Hier spielen auch Faktoren hinein die außerhalb der Kontrolle der
  Telefonanlagen-Software liegen, d.h. bezogen sind auf z.B. die Hardware oder
  auf menschliche Einflüsse.</para>

  <para>Wie in der Vergangenheit immer wieder erschreckende Fälle zeigen: Die
  beste Firewall kann umgangen werden wenn man den Administrator per
  „<foreignphrase xml:lang="en">Social Engineering</foreignphrase>“ dazu
  bringt „mal eben schnell“ einen SSH-Zugang freizugeben.</para>

  <para>Oder: Die Software loggt beispielsweise auf einen separaten
  Syslog-Server aber der Administrator übersieht daß dort die Festplatte
  defekt ist.</para>

  <para>Oder: Die Software schreibt zwar ein Backup, das dann aber durch einen
  menschlichen Fehler zerstört wird.</para>

  <para>Oder: Die Software verlangt zwar ein extrem langes Paßwort, aber am
  Tastaturkabel hat jemand einen Key-Logger angebracht.</para>

  <para>Oder: Es gibt zwar einen Backup-Server, aber im Ernstfall stellt sich
  heraus daß jemand der keinen Zugang zum Rechner-Raum haben sollte diesen
  Server in Unachtsamkeit zweckentfremdet hat.</para>

  <para>Es ist auch zu beachten daß viele Maßnahmen für sich alleine genommen
  keine absolute Sicherheit garantieren sondern lediglich eine zusätzliche
  Hürde bilden. Beispielsweise ist ein SSH-Dienst auf Port 22 ebenso sicher
  bzw. unsicher wie ein ansonsten in gleicher Weise geschützten SSH-Dienst auf
  einem anderen höheren Port. Wenn der Dienst allerdings auf einem anderen
  Port läuft wird er weniger leicht von Scannern entdeckt. Somit würden
  zumindest eine Menge „Script Kiddies“ abgehalten. Ähnliches gilt für
  Zugriffsbeschränkungen anhand von IP- oder MAC-Adressen. Man darf sich auf
  keine dieser Maßnahmen als alleinige Zugangskontrolle verlassen, aber
  dennoch können sie dazu beitragen die Hürde zu erhöhen.</para>

  <para>Für kryptographische Algorithmen gilt: Wer kein Experte auf dem Gebiet
  der Kryptologie ist sollte auf zuverlässige, anerkannte und getestete
  Verfahren zurückgreifen statt „mal eben schnell“ was eigenes zu erfinden.
  Beispielsweise ist die mehrfache Anwendung eines Algorithmus oder die
  Kombination aus zwei Algorithmen nicht unbedingt besser &#8211; manchmal
  sogar deutlich leichter angreifbar. Extremes (vereinfachtes) Beispiel: Die
  doppelte Anwendung von Rot-13 führt nicht zu doppelt guter Verschlüsselung.
  :-)</para>

  <section xml:id="sicherheitskonzept-shorewall">
    <title>Shorewall</title>

    <para>Die Konfiguration der Firewall erfolgt mittels Shorewall. In der
    Standard-Installation ist sie nach folgendem Muster aufgebaut.</para>

    <formalpara>
      <title><filename>/etc/shorewall/interfaces</filename></title>

      <para><programlisting>#ZONE   INTERFACE   BROADCAST   OPTIONS
net     eth0        detect      dhcp,tcpflags,logmartians,nosmurfs</programlisting></para>
    </formalpara>

    <formalpara>
      <title><filename>/etc/shorewall/zones</filename></title>

      <para><programlisting>#ZONE   TYPE       OPTIONS   IN   OUT
fw      firewall
net     ipv4</programlisting></para>
    </formalpara>

    <formalpara>
      <title><filename>/etc/shorewall/policy</filename></title>

      <para><programlisting>#SOURCE   DEST   POLICY   LOG LEVEL   LIMIT:BURST
$FW       net    ACCEPT
net       all    DROP     info
# The FOLLOWING POLICY MUST BE LAST
all       all    REJECT   info</programlisting></para>
    </formalpara>

    <formalpara>
      <title><filename>/etc/shorewall/rules</filename></title>

      <para><programlisting>#ACTION      SOURCE   DEST      PROTO   ...
#            PORT     PORT(S)

# Drop Ping from the "bad" net zone..
# and prevent your log from being flooded..
Ping(DROP)   net      $FW

# Permit all ICMP traffic FROM the firewall TO the net zone
ACCEPT       $FW      net       icmp

# In dieser Datei werden weitere Regeln ergänzt.</programlisting></para>
    </formalpara>
  </section>
</section>
